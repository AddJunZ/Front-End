## redis

### 1. redis的键值类型
redis是使用内存的键值数据库，值的部分可以有多种数据类型，分别对应其底层的数据结构

- String -> 简单动态字符串
- List -> 双向链表、压缩列表
- Hash -> 哈希表、压缩列表
- Sorted Set -> 压缩列表、跳表
- Set -> 哈希表、整数数组

#### 1.1. 键值对查找的全局哈希算法
使用了两个全局哈希表，哈希表内存放的是同一哈希值的多个键值组成的链表的头指针。当一个哈希表存满的时候，会使用第二个进行扩容，扩容操作是**渐进式**的，每次处理一个新的请求，就会把就哈希表从索引1开始，每次一个索引地复制到新的扩容的哈希表上，避免一次性需要复制大量数据引用而影响性能。

#### 1.2. 压缩列表
> [压缩列表](https://www.jianshu.com/p/19b928cf93c5)

#### 1.3. 跳表
> [跳表](https://baijiahao.baidu.com/s?id=1675908267465133255&wfr=spider&for=pc)

### 2. redis的单线程
> 持久化、异步删除、集群数据同步，都是由其他额外的线程执行的

#### 2.1 为什么使用单线程
如果采用多线程，当多个线程要修改共享资源，就需要有额外的机制(**同步原语**)进行保护，会造成额外开销。
