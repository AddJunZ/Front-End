<!-- 网络.md -->
### http2的多路复用
1. HTTP2采用二进制格式传输，取代了HTTP1.x的文本格式，二进制格式解析更高效
2. HTTP1.x中，并发多个请求需要多个TCP连接，每次TCP连接都需要三次握手四次挥手，浏览器为了控制资源会有6-8个TCP连接限制（chrome为6）。
3. HTTP2中：同域名下所有通信都在单个连接上完成，消除了因多个TCP连接而带来的延时和内存消耗；单个连接上可以并行交错的请求和响应，之间互不干扰，同一时刻可以传输多个HTTP请求

### cookie、session和token的区别
1. cookie储存在客户端，最大长度不超过4KB。
2. session储存在服务器（运用加密算法），客户端只需要储存 sessionId 就可以维持登录状态，客户端在 cookies 中携带 sessionId，访问登录接口，获得用户信息。服务端检查 sessionId 合法性，以及是否过期，但是耗费服务端性能。优点:速度快，安全；缺点：服务器是有状态的。多台后端服务器无法共享 session。解决方法是，专门准备一台 session 服务器，关于 session 的所有操作都交给它来调用
3. token，服务器不需要存储Session状态

### dns解析过程(m.xyz.com 查 y.abc.com)
1. 迭代查询

主机(m.xyz.com) -> **本地DNS服务器**(dns.xyz.com) -> 根域名DNS服务器 -> 顶级域名服务器(dns.com) -> 权限域名服务器(dns.abc.com) -(IP)-> **本地DNS服务器** -(IP)-> 主机

2. 递归查询

主机(m.xyz.com) -> **本地DNS服务器**(dns.xyz.com) -> 根域名DNS服务器 -> 顶级域名服务器(dns.com) -> 权限域名服务器(dns.abc.com) -(IP)-> 顶级域名服务器 -(IP)-> 根域名DNS服务器 -(IP)-> **本地DNS服务器** -(IP)-> 主机

### CDN原理
网络请求直接访问源服务器比较费时，通过cdn把源站的内容缓存到多个服务节点，用户访问时就向最近的站点请求响应。

具体步骤：

1. 用户向(www.test.com)请求图片资源
2. 向Local DNS请求域名解析
3. 解析www.test.com时，发现其配置了CNAME（别名），解析请求就会发送到对应的云平台的DNS服务器上
4. Local DNS获取云平台DNS服务器返回的解析IP
5. 用户获取解析IP，发起对图片资源的请求
6. 若该IP对应节点有缓存该资源则直接返回，没有则需要向源服务站点发起对该资源的请求
7. 获取该资源后，该IP站点会根据缓存策略进行缓存，并返回给用户

